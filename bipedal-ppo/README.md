# BipedalWalker-v3 PPO Training

ğŸ¦¿ ä½¿ç”¨ PPO (Proximal Policy Optimization) ç®—æ³•è®­ç»ƒåŒè¶³æœºå™¨äººå­¦ä¼šèµ°è·¯ã€‚

## ç¯å¢ƒä»‹ç»

**BipedalWalker-v3** æ˜¯ Gymnasium çš„ç»å…¸æ§åˆ¶ä»»åŠ¡ï¼š
- **ç›®æ ‡**: è®©åŒè¶³æœºå™¨äººå°½å¯èƒ½å¿«åœ°å‘å‰èµ°ï¼Œä¸æ‘”å€’
- **çŠ¶æ€ç©ºé—´**: 24 ç»´è¿ç»­å€¼ï¼ˆè§’åº¦ã€é€Ÿåº¦ã€åœ°é¢æ¥è§¦ç­‰ï¼‰
- **åŠ¨ä½œç©ºé—´**: 4 ç»´è¿ç»­å€¼ï¼ˆä¸¤æ¡è…¿çš„é«‹å…³èŠ‚å’Œè†å…³èŠ‚æ‰­çŸ©ï¼‰
- **å¥–åŠ±**: å‰è¿›è·ç¦» - èƒ½é‡æ¶ˆè€— - æ‘”å€’æƒ©ç½š
- **è§£å†³æ ‡å‡†**: å¹³å‡å¥–åŠ± >= 300ï¼ˆè¿ç»­100è½®ï¼‰

## é¡¹ç›®ç»“æ„

```
bipedal-ppo/
â”œâ”€â”€ train.py              # è®­ç»ƒè„šæœ¬
â”œâ”€â”€ training_curve.png    # è®­ç»ƒæ›²çº¿
â”œâ”€â”€ bipedal_walker.gif    # èµ°è·¯åŠ¨ç”»ï¼ˆæ ¸å¿ƒäº§å‡ºï¼ï¼‰
â”œâ”€â”€ bipedal_ppo_model.zip # è®­ç»ƒå¥½çš„æ¨¡å‹
â”œâ”€â”€ logs/                 # è®­ç»ƒæ—¥å¿—
â””â”€â”€ README.md             # æœ¬æ–‡æ¡£
```

## ä½¿ç”¨æ–¹æ³•

### å®‰è£…ä¾èµ–
```bash
pip install 'gymnasium[box2d]' imageio torch matplotlib stable-baselines3
```

### è®­ç»ƒæ¨¡å‹
```bash
# å®Œæ•´è®­ç»ƒï¼ˆ1M stepsï¼Œçº¦30-60åˆ†é’Ÿï¼‰
python train.py --train

# å¿«é€Ÿæµ‹è¯•ï¼ˆ10ä¸‡ stepsï¼‰
python train.py --train --timesteps 100000
```

### è¯„ä¼°æ¨¡å‹
```bash
python train.py --eval
```

### ä»…å½•åˆ¶ GIF
```bash
python train.py --gif
```

## PPO è¶…å‚æ•°

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| learning_rate | 3e-4 | å­¦ä¹ ç‡ |
| n_steps | 2048 | æ¯æ¬¡æ›´æ–°æ”¶é›†çš„æ­¥æ•° |
| batch_size | 64 | æ‰¹æ¬¡å¤§å° |
| n_epochs | 10 | æ¯æ¬¡æ›´æ–°çš„è¿­ä»£æ¬¡æ•° |
| gamma | 0.99 | æŠ˜æ‰£å› å­ |
| gae_lambda | 0.95 | GAE Î» |
| clip_range | 0.2 | PPO è£å‰ªèŒƒå›´ |
| n_envs | 4 | å¹¶è¡Œç¯å¢ƒæ•° |

## è®­ç»ƒç»“æœ

è®­ç»ƒ 1M steps åï¼š
- æœºå™¨äººå­¦ä¼šç¨³å®šè¡Œèµ°
- å¹³å‡å¥–åŠ±çº¦ 200-300 åˆ†
- èƒ½å¤Ÿé€‚åº”è½»å¾®çš„åœ°å½¢å˜åŒ–

## æ ¸å¿ƒäº§å‡º

### ğŸ¬ bipedal_walker.gif
å±•ç¤ºè®­ç»ƒå¥½çš„æœºå™¨äººèµ°è·¯åŠ¨ç”»ï¼Œ500 å¸§ï¼Œ30fpsï¼Œçº¦ 16.7 ç§’ã€‚

### ğŸ“Š training_curve.png
æ˜¾ç¤ºè®­ç»ƒè¿‡ç¨‹ä¸­å¥–åŠ±çš„å˜åŒ–æ›²çº¿ã€‚

## ç®—æ³•ç®€ä»‹

**PPO (Proximal Policy Optimization)** æ˜¯ OpenAI æå‡ºçš„ç­–ç•¥æ¢¯åº¦ç®—æ³•ï¼š

1. **Actor-Critic æ¶æ„**: åŒæ—¶å­¦ä¹ ç­–ç•¥ï¼ˆActorï¼‰å’Œä»·å€¼å‡½æ•°ï¼ˆCriticï¼‰
2. **è£å‰ªç›®æ ‡**: é™åˆ¶ç­–ç•¥æ›´æ–°å¹…åº¦ï¼Œä¿è¯è®­ç»ƒç¨³å®šæ€§
3. **å¤šè½®æ›´æ–°**: å……åˆ†åˆ©ç”¨é‡‡æ ·æ•°æ®

```
L^CLIP(Î¸) = E[min(r(Î¸)A, clip(r(Î¸), 1-Îµ, 1+Îµ)A)]
```

å…¶ä¸­ r(Î¸) æ˜¯æ–°æ—§ç­–ç•¥çš„æ¯”ç‡ï¼ŒA æ˜¯ä¼˜åŠ¿å‡½æ•°ï¼ŒÎµ æ˜¯è£å‰ªèŒƒå›´ã€‚

## å‚è€ƒèµ„æ–™

- [Gymnasium BipedalWalker](https://gymnasium.farama.org/environments/box2d/bipedal_walker/)
- [Stable-Baselines3 PPO](https://stable-baselines3.readthedocs.io/en/master/modules/ppo.html)
- [PPO åŸè®ºæ–‡](https://arxiv.org/abs/1707.06347)

---

*Created by Rios - 2025-07*
